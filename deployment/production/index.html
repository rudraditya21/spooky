<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        // for search plugin notably
        const base_url = "https://nishujangra.github.io/spooky/";
    </script>
    <script>
    const darkTheme = window.matchMedia("(prefers-color-scheme: dark)");
    darkTheme.onchange = (e) => {
        if (e.matches) {
            document.documentElement.classList.add("dark")
            localStorage.theme = 'dark';
        } else {
            document.documentElement.classList.remove("dark")
            localStorage.removeItem("theme")
        }
    };

    // On page load. Priotiry to lcaolStorage
    if (localStorage.theme === "dark") {
        document.documentElement.classList.add("dark")
    } else if (localStorage.theme === "light") {
        document.documentElement.classList.remove("dark")
    } else if (darkTheme.matches) {
        document.documentElement.classList.add("dark")
    } else {
        document.documentElement.classList.remove("dark")
    }

    // set the layout based on localStorage
    document.documentElement.classList.add(localStorage.getItem("html-layout") || "layout-fixed");
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Production - Spooky</title>
    


<title>Production</title>









<link rel="canonical" href="https://nishujangra.github.io/spooky/deployment/production/">


<!-- Open Graph (Facebook, LinkedIn) -->

<meta property="og:title" content="Production">





<meta property="og:url" content="https://nishujangra.github.io/spooky/deployment/production/">






<!-- Twitter Card -->

<meta name="twitter:title" content="Production">






<!-- JSON-LD Structured Data -->



    <link rel="icon" href="../../img/favicon.ico">

    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/geist.css" rel="stylesheet">

    
    <link href="../../stylesheets/extra.css" rel="stylesheet">

    

    <script src="../../js/callbacks.js"></script>

    

    

    

</head>

<body
    class="text-foreground group/body overscroll-none font-sans antialiased [--footer-height:calc(var(--spacing)*14)] [--header-height:calc(var(--spacing)*14)] xl:[--footer-height:calc(var(--spacing)*24)] theme-default">
    <div id="inner-body" class="bg-background relative z-10 flex min-h-svh flex-col">
        <header class="bg-background sticky top-0 z-50 w-full" view-transition-name="header">
    <div class="container-wrapper 3xl:fixed:px-0 px-6">
        <div class="3xl:fixed:container flex h-(--header-height) items-center gap-2 **:data-[slot=separator]:!h-4">
            <button id="menu-button" data-slot="popover-trigger" onclick="onMobileMenuButtonClick(event)"
                class="group whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground px-4 py-2 has-[&gt;svg]:px-3 extend-touch-target h-8 touch-manipulation items-center justify-start gap-2.5 !p-0 hover:bg-transparent focus-visible:bg-transparent focus-visible:ring-0 active:bg-transparent dark:hover:bg-transparent flex lg:hidden"
                type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rmplb»"
                data-state="closed">
                <div class="relative flex h-8 w-4 items-center justify-center">
                    <div class="relative size-4">
                        <!-- 16px x 16px -->
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="0" x2="16" y1="5" y2="5"
                                class="group-data-[state=open]:translate-y-[2.25px] group-data-[state=open]:-translate-x-[2.25px] group-data-[state=open]:rotate-45 transition-all duration-300 origin-center" />
                            <line x1="0" x2="16" y1="11" y2="11"
                                class="group-data-[state=open]:-translate-y-[2.25px] group-data-[state=open]:-translate-x-[2.25px] group-data-[state=open]:-rotate-45 transition-all duration-300 origin-center" />
                        </svg>
                    </div>

                    <span class="sr-only">Toggle Menu</span>
                </div>
                <span class="flex h-8 items-center text-lg leading-none font-medium">Menu</span>
            </button>
            <a data-slot="button"
                class="items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 hidden h-8 lg:flex"
                href="https://nishujangra.github.io/spooky/">
                <span class="size-8 flex flex-row justify-center items-center">
                    

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"
    class="size-5">
    <rect width="256" height="256" fill="none"></rect>
    <line x1="208" y1="128" x2="128" y2="208" fill="none" stroke="currentColor" stroke-linecap="round"
        stroke-linejoin="round" stroke-width="32"></line>
    <line x1="192" y1="40" x2="40" y2="192" fill="none" stroke="currentColor" stroke-linecap="round"
        stroke-linejoin="round" stroke-width="32"></line>
</svg>


                </span>

                
                <h1 class="pr-2">Spooky</h1>
                
            </a>
            
            <div class="ml-auto flex items-center gap-2 md:flex-1 md:justify-end">
                <div class="hidden w-full flex-1 md:flex md:w-auto md:flex-none">
                    <button data-slot="dialog-trigger" onclick="onSearchBarClick(event)"
    class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-secondary/80 px-4 py-2 has-[&gt;svg]:px-3 bg-surface text-surface-foreground/60 dark:bg-card relative h-8 w-full justify-start pl-2.5 font-normal shadow-none sm:pr-12 md:w-40 lg:w-56 xl:w-64"
    type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R66plb»" data-state="closed">
    <span class="text-muted-foreground hidden lg:inline-flex">Search documentation...</span>
    <span class="text-muted-foreground inline-flex lg:hidden">Search...</span>
    <div class="absolute top-1.5 right-1.5 hidden gap-1 sm:flex">
        <kbd
            class="bg-background text-muted-foreground pointer-events-none flex h-5 items-center justify-center gap-1 rounded border px-1 font-sans text-[0.7rem] font-medium select-none [&amp;_svg:not([class*='size-'])]:size-3">Ctrl</kbd><kbd
            class="bg-background text-muted-foreground pointer-events-none flex h-5 items-center justify-center gap-1 rounded border px-1 font-sans text-[0.7rem] font-medium select-none [&amp;_svg:not([class*='size-'])]:size-3 aspect-square">K</kbd>
    </div>
</button>
<dialog id="search-dialog" onclick="onSearchDialogClick(event)"
    class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background rounded-lg shadow-lg border overflow-hidden p-0">
    <div class="w-lg gap-4">
        <div class="flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground">
            <div data-slot="command-input-wrapper" class="flex h-9 items-center gap-2 border-b px-3"><svg
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-search size-4 shrink-0 opacity-50">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.3-4.3"></path>
                </svg>
                <input data-slot="command-input"
                    class="placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50"
                    placeholder="Search documentation..." cmdk-input="" autocomplete="off" autocorrect="off"
                    spellcheck="false" aria-autocomplete="list" role="combobox" aria-expanded="true"
                    aria-controls="radix-«r1t6»" aria-labelledby="radix-«r1t7»" id="radix-«r1t8»" type="text" value=""
                    aria-activedescendant="radix-«r1th»" oninput="onInputHandler(event)">
            </div>
        </div>
        <div id="mkdocs-search-results">
            <!-- search results go there -->
        </div>
    </div>
</dialog>
<script>
    document.removeEventListener("keydown", searchShortcutHandler);
    document.addEventListener("keydown", searchShortcutHandler);
</script>
                </div>
                <div data-orientation="vertical" role="none" data-slot="separator"
                    class="bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px ml-2 hidden lg:block">
                </div>
                <a target="_blank" rel="noreferrer" data-slot="button"
                    class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 h-8 shadow-none"
                    href="https://github.com/nishujangra/spooky">
                    <svg viewBox="0 0 438.549 438.549">
                        <path fill="currentColor"
                            d="M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z">
                        </path>
                    </svg>
                    
                    <span id="stargazers" class="text-muted-foreground w-8 text-xs tabular-nums" onload="test()">
                    </span>
                    
                </a>
                <div data-orientation="vertical" role="none" data-slot="separator"
                    class="bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px 3xl:flex hidden">
                </div>
                <button data-slot="button"
                    class="items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-8 3xl:flex hidden"
                    title="Toggle layout" onclick="toggleLayout(event)">
                    <span class="sr-only">Toggle layout</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-gallery-horizontal">
                        <path d="M2 3v18"></path>
                        <rect width="12" height="18" x="6" y="3" rx="2"></rect>
                        <path d="M22 3v18"></path>
                    </svg>
                </button>
                <div data-orientation="vertical" role="none" data-slot="separator"
                    class="bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px">
                </div>
                <button data-slot="button"
                    class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 group/toggle extend-touch-target size-8"
                    title="Toggle theme" onclick="onThemeSwitch(event)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="size-4.5">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
                        <path d="M12 3l0 18"></path>
                        <path d="M12 9l4.65 -4.65"></path>
                        <path d="M12 14.3l7.37 -7.37"></path>
                        <path d="M12 19.6l8.85 -8.85"></path>
                    </svg>
                    <span class="sr-only">Toggle theme</span>
                </button>
            </div>
        </div>
    </div>
</header>
        <main class="flex flex-1 flex-col">
            <div class="container-wrapper flex flex-1 flex-col px-2">
                <div data-slot="sidebar-wrapper" style="--sidebar-width: 16rem; --sidebar-width-icon: 3rem;"
                    class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex w-full 3xl:fixed:container 3xl:fixed:px-3 min-h-min flex-1 items-start px-0 [--sidebar-width:220px] [--top-spacing:0] lg:grid lg:grid-cols-[var(--sidebar-width)_minmax(0,1fr)] lg:[--sidebar-width:240px] lg:[--top-spacing:calc(var(--spacing)*4)]">
                    <div data-slot="sidebar"
                        class="text-sidebar-foreground w-(--sidebar-width) flex-col sticky top-[calc(var(--header-height)+1px)] z-30 hidden h-[calc(100svh-var(--header-height)-var(--footer-height))] bg-transparent lg:flex">
                        <div data-slot="sidebar-content" data-sidebar="content"
                            class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden no-scrollbar px-2 pb-12">
                            <div class="h-(--top-spacing) shrink-0"></div>
                            <div view-transition-name="sidebar" data-slot="sidebar-group" data-sidebar="group"
    class="relative flex w-full min-w-0 flex-col p-2 no-scrollbar">
    

    
    
    

    

    
    

    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Home
        

        

        

        
    </a>
</li>
                
                
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/references/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        References
        

        

        

        
    </a>
</li>
                
                
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/roadmap/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Roadmap
        

        

        

        
    </a>
</li>
                
                
            </ul>
        </div>
    </div>
    

    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Getting Started</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/getting-started/overview/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Overview
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/getting-started/installation/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Installation
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/tutorials/quickstart/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Quick Start
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Configuration</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/configuration/reference/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Reference
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/configuration/tls/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        TLS Setup
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            User Guide</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/user-guide/basics/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Basics
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/user-guide/load-balancing/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Load Balancing
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Architecture</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/architecture/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Overview
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/architecture/overview/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        High-Level Design
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/architecture/components/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Components
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Deployment</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="true" data-sidebar="menu-button"
        data-size="default" href="/spooky/deployment/production/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Production
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/troubleshooting/common-issues/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Troubleshooting
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Development</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/changelog/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Changelog
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            Protocols</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/protocols/http3/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        HTTP/3
        

        

        

        
    </a>
</li>
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/protocols/quic/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        QUIC
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    
    
    <div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2">
        <div data-slot="sidebar-group-label" data-sidebar="group-label"
            class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground font-medium">
            API</div>
        <div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm">
            <ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-0.5">
                
                <li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative">
    <a data-slot="sidebar-menu-button" data-active="false" data-sidebar="menu-button"
        data-size="default" href="/spooky/api/overview/"
        class="hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer/menu-button flex items-center gap-2 rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 data-[active=true]:bg-accent data-[active=true]:border-accent 3xl:fixed:w-full 3xl:fixed:max-w-48 relative h-[30px] w-fit overflow-visible border border-transparent text-[0.8rem] font-medium after:absolute after:inset-x-0 after:-inset-y-1 after:z-0 after:rounded-md">

        
        Overview
        

        

        

        
    </a>
</li>
                
            </ul>
        </div>
    </div>
    
    


    
</div>
                        </div>
                    </div>
                    <div class="h-full w-full">
                        <div data-slot="docs" class="flex items-stretch text-[1.05rem] sm:text-[15px] xl:w-full">
                            <div class="flex min-w-0 flex-1 flex-col">
                                <div class="h-(--top-spacing) shrink-0"></div>
                                <article class="w-full" view-transition-name="page">
  <div class="flex flex-col gap-2">
    <div class="flex flex-col gap-2">
      <div id="page-header" class="flex items-start justify-between">
        <h1
          class="scroll-m-20 text-4xl font-semibold tracking-tight sm:text-3xl xl:text-4xl"
        >
          Production
        </h1>

        <div class="flex items-center gap-2 pt-1.5">
          
<button onclick="fetch(`https://nishujangra.github.io/spooky/deployment/production.md`).then((r) => r.blob()).then((blob) => navigator.clipboard.write([new ClipboardItem({ 'text/plain': blob })]))" 
        data-slot="button" 
        class="cursor-pointer inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-md gap-1.5 px-3 has-[&>svg]:px-2.5 h-8 shadow-none md:h-7 md:text-[0.8rem]">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-copy ">
    <path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"></path><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"></path>
</svg>
<span class="max-md:hidden">Copy Page</span>
</button> 
          
          <a
            data-slot="button"
            id="previous-button"
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 extend-touch-target size-8 shadow-none md:size-7"
            href="/spooky/architecture/components/"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="tabler-icon tabler-icon-arrow-left"
            >
              <path d="M5 12l14 0"></path>
              <path d="M5 12l6 6"></path>
              <path d="M5 12l6 -6"></path>
            </svg>
            <span class="sr-only">Previous</span>
          </a>
           
          
          <a
            data-slot="button"
            id="next-button"
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 extend-touch-target size-8 shadow-none md:size-7"
            href="/spooky/troubleshooting/common-issues/"
          >
            <span class="sr-only">Next</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="tabler-icon tabler-icon-arrow-right"
            >
              <path d="M5 12l14 0"></path>
              <path d="M13 18l6 -6"></path>
              <path d="M13 6l6 6"></path>
            </svg>
          </a>
          
        </div>
      </div>
      
    </div>
    <div class="flex justify-end items-center">
       
    </div>
  </div>
  <div class="typography w-full flex-1 *:data-[slot=alert]:first:mt-0">
    <blockquote>
<p><strong>Warning:</strong> Spooky is experimental software. It is not production-ready. This guide documents deployment procedures for evaluation and staging environments. Do not use Spooky in production without thoroughly understanding its current limitations (see <a href="../../roadmap/">Roadmap</a> for known issues).</p>
</blockquote>
<p>This guide covers deployment procedures, system configuration, and operational considerations for Spooky HTTP/3 load balancer deployments.</p>
<h2 id="pre-deployment-checklist">Pre-Deployment Checklist</h2>
<h3 id="infrastructure-requirements">Infrastructure Requirements</h3>
<p><strong>Compute Resources</strong>
- CPU: 4 cores minimum (8+ for high-throughput deployments)
- Memory: 4GB minimum (8GB+ recommended, ~1-2KB per concurrent connection)
- Disk: 10GB minimum (configuration, logs, and binary storage)
- OS: Linux kernel 5.0+ (Ubuntu 20.04 LTS, RHEL 8+, or equivalent)</p>
<p><strong>Network Requirements</strong>
- UDP ingress on designated QUIC port (typically 443)
- HTTP/2 egress to backend pool networks
- Low-latency connectivity between proxy tier and backends (&lt;5ms RTT preferred)
- MTU considerations: 1500 byte minimum, jumbo frames (9000 bytes) beneficial for high-throughput scenarios</p>
<p><strong>Certificate Infrastructure</strong>
- Valid TLS certificates with full chain
- Automated renewal mechanism (Let's Encrypt, internal PKI, or certificate management platform)
- Certificate rotation procedures documented and tested</p>
<h3 id="pre-deployment-validation">Pre-Deployment Validation</h3>
<p>Before deploying to production, verify the following:</p>
<ol>
<li>Configuration validated with <code>spooky --config &lt;path&gt;</code> (startup validation happens before serving)</li>
<li>Backend health check endpoints operational and returning expected responses</li>
<li>TLS certificates valid with appropriate SANs and expiration dates</li>
<li>Firewall rules permit required traffic flows</li>
<li>Service account and filesystem permissions configured</li>
<li>Monitoring and alerting infrastructure ready to receive metrics</li>
<li>Runbooks prepared for common failure scenarios</li>
</ol>
<h2 id="system-configuration">System Configuration</h2>
<h3 id="binary-installation">Binary Installation</h3>
<p>Production deployments should use compiled release binaries:</p>
<pre><code class="language-bash"># Download release binary
VERSION=&quot;0.1.0&quot;
ARCH=&quot;x86_64&quot;
wget &quot;https://github.com/nishujangra/spooky/releases/download/v${VERSION}/spooky-linux-${ARCH}.tar.gz&quot;
tar xzf &quot;spooky-linux-${ARCH}.tar.gz&quot;

# Verify checksum
sha256sum -c &quot;spooky-linux-${ARCH}.tar.gz.sha256&quot;

# Install to system path
sudo install -m 755 -o root -g root spooky /usr/local/bin/spooky

# Create dedicated service account
sudo useradd --system --shell /usr/sbin/nologin \
  --home-dir /var/lib/spooky --create-home spooky

# Initialize directory structure
sudo mkdir -p /etc/spooky/certs /var/log/spooky
sudo chown -R root:spooky /etc/spooky
sudo chmod 750 /etc/spooky
sudo chown spooky:spooky /var/log/spooky
sudo chmod 750 /var/log/spooky

# Note: Spooky logs to stdout/stderr by default (collected by journald).
# The /var/log/spooky directory is for optional file-based logging.
</code></pre>
<h3 id="kernel-parameter-tuning">Kernel Parameter Tuning</h3>
<p>UDP and QUIC workloads benefit from increased buffer sizes and connection tracking limits:</p>
<pre><code class="language-bash"># /etc/sysctl.d/99-spooky.conf
# UDP receive/send buffer tuning
net.core.rmem_max = 67108864
net.core.wmem_max = 67108864
net.core.rmem_default = 16777216
net.core.wmem_default = 16777216

# Network device backlog
net.core.netdev_max_backlog = 65536
net.core.netdev_budget = 50000
net.core.netdev_budget_usecs = 5000

# Connection tracking (if using conntrack)
net.netfilter.nf_conntrack_max = 2097152
net.netfilter.nf_conntrack_tcp_timeout_established = 7200
net.netfilter.nf_conntrack_udp_timeout = 60
net.netfilter.nf_conntrack_udp_timeout_stream = 120

# TCP tuning for HTTP/2 backend connections
net.ipv4.tcp_rmem = 8192 262144 33554432
net.ipv4.tcp_wmem = 8192 262144 33554432
net.ipv4.tcp_max_syn_backlog = 8192
net.ipv4.tcp_slow_start_after_idle = 0
net.ipv4.tcp_mtu_probing = 1

# File descriptor limits
fs.file-max = 2097152

# Apply configuration
sudo sysctl -p /etc/sysctl.d/99-spooky.conf
</code></pre>
<h3 id="resource-limits">Resource Limits</h3>
<p>Configure ulimits for the spooky service account:</p>
<pre><code class="language-bash"># /etc/security/limits.d/spooky.conf
spooky soft nofile 1048576
spooky hard nofile 1048576
spooky soft nproc 16384
spooky hard nproc 16384
spooky soft memlock unlimited
spooky hard memlock unlimited
</code></pre>
<h3 id="production-configuration">Production Configuration</h3>
<pre><code class="language-yaml"># /etc/spooky/config.yaml
version: 1

listen:
  protocol: http3
  address: &quot;0.0.0.0&quot;
  port: 443
  tls:
    cert: &quot;/etc/spooky/certs/fullchain.pem&quot;
    key: &quot;/etc/spooky/certs/privkey.pem&quot;

# Define upstream pools with health checking
upstream:
  # API backend pool with consistent hashing for session affinity
  api_pool:
    load_balancing:
      type: &quot;consistent-hash&quot;
    route:
      path_prefix: &quot;/api&quot;
    backends:
      - id: &quot;api-01&quot;
        address: &quot;10.0.10.10:8080&quot;
        weight: 100
        health_check:
          path: &quot;/health&quot;
          interval: 5000
          timeout_ms: 2000
          failure_threshold: 3
          success_threshold: 2

      - id: &quot;api-02&quot;
        address: &quot;10.0.10.11:8080&quot;
        weight: 100
        health_check:
          path: &quot;/health&quot;
          interval: 5000
          timeout_ms: 2000
          failure_threshold: 3
          success_threshold: 2

  # Static content pool with round-robin
  static_pool:
    load_balancing:
      type: &quot;round-robin&quot;
    route:
      path_prefix: &quot;/static&quot;
    backends:
      - id: &quot;static-01&quot;
        address: &quot;10.0.20.10:8080&quot;
        weight: 100
        health_check:
          path: &quot;/&quot;
          interval: 10000

      - id: &quot;static-02&quot;
        address: &quot;10.0.20.11:8080&quot;
        weight: 100
        health_check:
          path: &quot;/&quot;
          interval: 10000

  # Default backend pool
  default_pool:
    load_balancing:
      type: &quot;random&quot;
    route:
      path_prefix: &quot;/&quot;
    backends:
      - id: &quot;web-01&quot;
        address: &quot;10.0.30.10:8080&quot;
        weight: 100
        health_check:
          path: &quot;/health&quot;
          interval: 5000

# Logging configuration
log:
  level: info  # Use 'warn' for production to reduce I/O

# Connection tuning (if supported by configuration schema)
# Adjust based on backend capacity and expected load
# max_concurrent_connections: 10000
# backend_connection_pool_size: 100
</code></pre>
<p><strong>Configuration Notes:</strong>
- Route matching uses longest-prefix: more specific paths take precedence
- Health check intervals balance detection speed vs. backend load
- Adjust <code>failure_threshold</code> and <code>success_threshold</code> based on backend stability
- Weight distribution should reflect backend capacity
- Consistent hashing is appropriate for stateful backends requiring session affinity</p>
<h2 id="tls-certificate-management">TLS Certificate Management</h2>
<h3 id="certificate-acquisition">Certificate Acquisition</h3>
<h4 id="lets-encrypt-acme">Let's Encrypt (ACME)</h4>
<pre><code class="language-bash"># Install certbot
sudo apt-get install -y certbot

# Obtain certificate (HTTP-01 challenge, requires port 80)
sudo certbot certonly --standalone \
  --preferred-challenges http \
  --email ops@example.com \
  --agree-tos \
  --non-interactive \
  -d proxy.example.com

# Copy to spooky directory
sudo cp /etc/letsencrypt/live/proxy.example.com/fullchain.pem /etc/spooky/certs/
sudo cp /etc/letsencrypt/live/proxy.example.com/privkey.pem /etc/spooky/certs/
sudo chown root:spooky /etc/spooky/certs/*.pem
sudo chmod 640 /etc/spooky/certs/privkey.pem
sudo chmod 644 /etc/spooky/certs/fullchain.pem
</code></pre>
<h4 id="automated-renewal">Automated Renewal</h4>
<pre><code class="language-bash"># Create renewal hook
sudo tee /etc/letsencrypt/renewal-hooks/deploy/spooky-reload.sh &lt;&lt; 'EOF'
#!/bin/bash
set -e

CERT_DOMAIN=&quot;proxy.example.com&quot;
SPOOKY_CERT_DIR=&quot;/etc/spooky/certs&quot;

# Copy renewed certificates
cp &quot;/etc/letsencrypt/live/${CERT_DOMAIN}/fullchain.pem&quot; &quot;${SPOOKY_CERT_DIR}/&quot;
cp &quot;/etc/letsencrypt/live/${CERT_DOMAIN}/privkey.pem&quot; &quot;${SPOOKY_CERT_DIR}/&quot;

# Set permissions
chown root:spooky &quot;${SPOOKY_CERT_DIR}&quot;/*.pem
chmod 640 &quot;${SPOOKY_CERT_DIR}/privkey.pem&quot;
chmod 644 &quot;${SPOOKY_CERT_DIR}/fullchain.pem&quot;

# Reload spooky (graceful reload if supported, otherwise restart)
systemctl reload-or-restart spooky

logger -t spooky-cert-renewal &quot;TLS certificates renewed and spooky reloaded&quot;
EOF

sudo chmod +x /etc/letsencrypt/renewal-hooks/deploy/spooky-reload.sh

# Test renewal process
sudo certbot renew --dry-run
</code></pre>
<h3 id="certificate-validation">Certificate Validation</h3>
<p>Before deploying new certificates:</p>
<pre><code class="language-bash"># Verify certificate and key match
openssl x509 -noout -modulus -in /etc/spooky/certs/fullchain.pem | openssl md5
openssl rsa -noout -modulus -in /etc/spooky/certs/privkey.pem | openssl md5

# Verify certificate chain
openssl verify -CAfile /etc/spooky/certs/fullchain.pem /etc/spooky/certs/fullchain.pem

# Check expiration
openssl x509 -noout -dates -in /etc/spooky/certs/fullchain.pem

# Verify SAN entries
openssl x509 -noout -text -in /etc/spooky/certs/fullchain.pem | grep -A1 &quot;Subject Alternative Name&quot;
</code></pre>
<h2 id="systemd-service-configuration">Systemd Service Configuration</h2>
<h3 id="service-unit">Service Unit</h3>
<pre><code class="language-ini"># /etc/systemd/system/spooky.service
[Unit]
Description=Spooky HTTP/3 to HTTP/2 Proxy
Documentation=https://github.com/nishujangra/spooky
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=spooky
Group=spooky

# Binary and configuration
ExecStart=/usr/local/bin/spooky --config /etc/spooky/config.yaml
# Note: Hot reload not currently supported, use restart instead
# ExecReload=/bin/kill -HUP $MAINPID

# Restart policy
Restart=always
RestartSec=5s
StartLimitBurst=3
StartLimitIntervalSec=60s

# Resource limits
LimitNOFILE=1048576
LimitNPROC=16384
TasksMax=16384

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/log/spooky
ProtectKernelTunables=true
ProtectKernelModules=true
ProtectKernelLogs=true
ProtectControlGroups=true
ProtectProc=invisible
ProcSubset=pid
RestrictAddressFamilies=AF_INET AF_INET6 AF_UNIX
RestrictNamespaces=true
RestrictRealtime=true
RestrictSUIDSGID=true
LockPersonality=true
SystemCallArchitectures=native
SystemCallFilter=@system-service
SystemCallFilter=~@privileged @resources

# Logging
StandardOutput=journal
StandardError=journal
SyslogIdentifier=spooky

[Install]
WantedBy=multi-user.target
</code></pre>
<h3 id="service-management">Service Management</h3>
<pre><code class="language-bash"># Install and enable service
sudo systemctl daemon-reload
sudo systemctl enable spooky.service

# Start service
sudo systemctl start spooky.service

# Verify status
sudo systemctl status spooky.service

# View logs
sudo journalctl -u spooky.service -f

# Restart for configuration changes (hot reload planned)
sudo systemctl restart spooky.service

# Full restart
sudo systemctl restart spooky.service
</code></pre>
<h2 id="security-hardening">Security Hardening</h2>
<h3 id="network-security">Network Security</h3>
<p><strong>Firewall Configuration (nftables)</strong></p>
<pre><code class="language-bash"># /etc/nftables.conf (example rules)
table inet filter {
    chain input {
        type filter hook input priority filter; policy drop;

        # Allow established/related connections
        ct state established,related accept
        ct state invalid drop

        # Allow loopback
        iif lo accept

        # Allow SSH (restrict to management network)
        ip saddr 10.0.0.0/24 tcp dport 22 ct state new accept

        # Allow QUIC/HTTP3
        udp dport 443 accept

        # Allow health checks from monitoring (optional)
        ip saddr 10.0.0.0/24 tcp dport 8080 ct state new accept

        # Rate limiting for new connections
        ct state new limit rate over 1000/second burst 2000 packets drop
    }

    chain forward {
        type filter hook forward priority filter; policy drop;
    }

    chain output {
        type filter hook output priority filter; policy accept;
    }
}
</code></pre>
<h3 id="application-security">Application Security</h3>
<p><strong>Filesystem Permissions</strong></p>
<pre><code class="language-bash"># Configuration immutable after validation
sudo chown root:spooky /etc/spooky/config.yaml
sudo chmod 640 /etc/spooky/config.yaml
sudo chattr +i /etc/spooky/config.yaml  # Immutable (remove with -i for updates)

# Certificate protection
sudo chmod 640 /etc/spooky/certs/privkey.pem
sudo chmod 644 /etc/spooky/certs/fullchain.pem
</code></pre>
<p><strong>TLS Configuration</strong></p>
<p>Ensure TLS 1.3 is enforced with strong cipher suites. Note: cipher suite configuration may be limited by the underlying QUIC library (quiche). Verify supported options in the Spooky documentation.</p>
<h3 id="selinux-apparmor">SELinux / AppArmor</h3>
<p>For environments requiring mandatory access control, create appropriate policies. Example AppArmor profile skeleton:</p>
<pre><code class="language-bash"># /etc/apparmor.d/usr.local.bin.spooky
#include &lt;tunables/global&gt;

/usr/local/bin/spooky {
  #include &lt;abstractions/base&gt;
  #include &lt;abstractions/nameservice&gt;

  capability net_bind_service,
  capability setuid,
  capability setgid,

  /usr/local/bin/spooky mr,
  /etc/spooky/** r,
  /var/log/spooky/** rw,

  network inet dgram,
  network inet6 dgram,
  network inet stream,
  network inet6 stream,
}
</code></pre>
<h2 id="monitoring-and-observability">Monitoring and Observability</h2>
<h3 id="metrics-exposition">Metrics Exposition</h3>
<p><strong>Note</strong>: Metrics exposition is planned for future releases but not currently implemented. Spooky currently maintains internal counters only.</p>
<p>When metrics are implemented, they will follow Prometheus exposition format for easy integration with monitoring systems. Example configuration (for future reference):</p>
<pre><code class="language-yaml"># prometheus.yml (planned)
scrape_configs:
  - job_name: 'spooky'
    scrape_interval: 15s
    scrape_timeout: 10s
    metrics_path: '/metrics'  # To be implemented
    static_configs:
      - targets: ['spooky-01.internal:9090', 'spooky-02.internal:9090']
        labels:
          environment: 'production'
          service: 'proxy'
</code></pre>
<h3 id="key-metrics-to-monitor">Key Metrics to Monitor</h3>
<p><strong>Throughput Metrics</strong>
- Requests per second (by route, backend, status code)
- Bytes transferred (ingress/egress)
- Active connections (QUIC, HTTP/2)</p>
<p><strong>Latency Metrics</strong>
- Request duration percentiles (p50, p95, p99)
- Backend response time
- Connection establishment time
- TLS handshake duration</p>
<p><strong>Error Metrics</strong>
- HTTP 5xx error rate
- Backend connection failures
- Health check failure count
- TLS handshake failures</p>
<p><strong>Resource Metrics</strong>
- CPU utilization
- Memory usage (RSS, heap)
- File descriptor usage
- Network buffer utilization</p>
<h3 id="alerting-rules">Alerting Rules</h3>
<pre><code class="language-yaml"># prometheus-alerts.yml
groups:
  - name: spooky-availability
    rules:
      - alert: SpookyInstanceDown
        expr: up{job=&quot;spooky&quot;} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: &quot;Spooky instance {{ $labels.instance }} is down&quot;
          description: &quot;Instance has been unreachable for 1 minute&quot;

      - alert: SpookyHighErrorRate
        expr: |
          (
            sum(rate(http_requests_total{job=&quot;spooky&quot;,status=~&quot;5..&quot;}[5m]))
            /
            sum(rate(http_requests_total{job=&quot;spooky&quot;}[5m]))
          ) &gt; 0.05
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: &quot;High 5xx error rate on Spooky&quot;
          description: &quot;Error rate is {{ $value | humanizePercentage }}&quot;

      - alert: SpookyBackendAllDown
        expr: |
          sum by (upstream_pool) (backend_healthy{job=&quot;spooky&quot;}) == 0
        for: 2m
        labels:
          severity: critical
        annotations:
          summary: &quot;All backends down for pool {{ $labels.upstream_pool }}&quot;

      - alert: SpookyLatencyHigh
        expr: |
          histogram_quantile(0.95,
            sum(rate(http_request_duration_seconds_bucket{job=&quot;spooky&quot;}[5m])) by (le)
          ) &gt; 1.0
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: &quot;High request latency (p95 &gt; 1s)&quot;

      - alert: SpookyFileDescriptorExhaustion
        expr: process_open_fds{job=&quot;spooky&quot;} / process_max_fds{job=&quot;spooky&quot;} &gt; 0.8
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: &quot;File descriptor usage high on {{ $labels.instance }}&quot;

  - name: spooky-capacity
    rules:
      - alert: SpookyCPUSaturation
        expr: rate(process_cpu_seconds_total{job=&quot;spooky&quot;}[5m]) &gt; 0.8
        for: 15m
        labels:
          severity: warning
        annotations:
          summary: &quot;CPU saturation on {{ $labels.instance }}&quot;

      - alert: SpookyMemoryPressure
        expr: |
          process_resident_memory_bytes{job=&quot;spooky&quot;} / node_memory_MemTotal_bytes &gt; 0.8
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: &quot;Memory pressure on {{ $labels.instance }}&quot;
</code></pre>
<h3 id="log-management">Log Management</h3>
<p><strong>Structured Logging</strong></p>
<p>Configure JSON output for log aggregation:</p>
<pre><code class="language-yaml">log:
  level: info
  format: json  # If supported
</code></pre>
<p><strong>Log Aggregation</strong></p>
<p>Ship logs to centralized logging (ELK, Loki, Splunk):</p>
<pre><code class="language-bash"># Example: journald to Loki via Promtail
# /etc/promtail/config.yml
server:
  http_listen_port: 9080

positions:
  filename: /var/lib/promtail/positions.yaml

clients:
  - url: http://loki.internal:3100/loki/api/v1/push

scrape_configs:
  - job_name: systemd-journal
    journal:
      max_age: 12h
      labels:
        job: systemd-journal
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        target_label: 'unit'
      - source_labels: ['__journal_syslog_identifier']
        target_label: 'syslog_identifier'
    pipeline_stages:
      - match:
          selector: '{syslog_identifier=&quot;spooky&quot;}'
          stages:
            - json:
                expressions:
                  level: level
                  path: path
                  backend: backend
                  duration: duration
            - labels:
                level:
                path:
                backend:
</code></pre>
<p><strong>Log Rotation</strong></p>
<p>Configure log rotation for file-based logging (when stdout/stderr is redirected to files):</p>
<pre><code class="language-bash"># /etc/logrotate.d/spooky
/var/log/spooky/*.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0640 spooky spooky
    sharedscripts
    postrotate
        /bin/systemctl restart spooky.service &gt; /dev/null 2&gt;&amp;1 || true
    endscript
}
</code></pre>
<h2 id="high-availability-architecture">High Availability Architecture</h2>
<h3 id="active-active-configuration">Active-Active Configuration</h3>
<p>Deploy multiple Spooky instances behind a UDP-capable load balancer:</p>
<pre><code>                    ┌─────────────┐
                    │   DNS/GLB   │
                    └──────┬──────┘
                           │
              ┌────────────┴────────────┐
              │                         │
         ┌────▼────┐              ┌────▼────┐
         │ L4 LB 1 │              │ L4 LB 2 │
         └────┬────┘              └────┬────┘
              │                         │
       ┌──────┴──────┬──────────────────┴──────┐
       │             │                          │
  ┌────▼───┐   ┌────▼───┐                ┌────▼───┐
  │Spooky 1│   │Spooky 2│      ...       │Spooky N│
  └────┬───┘   └────┬───┘                └────┬───┘
       │             │                          │
       └──────┬──────┴──────────────────────────┘
              │
      ┌───────▼────────┐
      │ Backend Pool   │
      └────────────────┘
</code></pre>
<p><strong>Layer 4 Load Balancer Options:</strong>
- ECMP routing with consistent hashing
- Anycast with BGP
- Cloud provider UDP load balancers (AWS NLB, GCP Network Load Balancer)</p>
<h3 id="configuration-synchronization">Configuration Synchronization</h3>
<p>Maintain consistent configuration across instances:</p>
<pre><code class="language-bash"># Use configuration management (Ansible example)
# playbooks/deploy-spooky.yml
- hosts: proxy_tier
  become: yes
  tasks:
    - name: Deploy Spooky configuration
      template:
        src: templates/spooky-config.yaml.j2
        dest: /etc/spooky/config.yaml
        owner: root
        group: spooky
        mode: '0640'
        # Note: Configuration validation happens during startup
      notify: restart spooky

    - name: Deploy TLS certificates
      copy:
        src: &quot;{{ item.src }}&quot;
        dest: &quot;{{ item.dest }}&quot;
        owner: root
        group: spooky
        mode: &quot;{{ item.mode }}&quot;
      with_items:
        - { src: 'certs/fullchain.pem', dest: '/etc/spooky/certs/fullchain.pem', mode: '0644' }
        - { src: 'certs/privkey.pem', dest: '/etc/spooky/certs/privkey.pem', mode: '0640' }
      notify: restart spooky

  handlers:
    - name: restart spooky
      systemd:
        name: spooky
        state: restarted
</code></pre>
<h3 id="health-checking">Health Checking</h3>
<p>Implement external health checks for load balancer integration:</p>
<pre><code class="language-bash"># Health check script for L4 LB integration
# /usr/local/bin/spooky-healthcheck.sh
#!/bin/bash
set -euo pipefail

# Check if process is running
if ! pgrep -x spooky &gt; /dev/null; then
    exit 1
fi

# Check if listening on QUIC port (example: port 443)
if ! ss -ulpn | grep -q &quot;:443 &quot;; then
    exit 1
fi

# Optional: Check internal health endpoint if available
# curl -sf http://localhost:8080/health || exit 1

exit 0
</code></pre>
<h2 id="performance-optimization">Performance Optimization</h2>
<h3 id="connection-pooling">Connection Pooling</h3>
<p>Optimize HTTP/2 backend connection pool based on backend capacity:</p>
<ul>
<li>Typical ratio: 1 backend connection per 50-100 concurrent QUIC connections</li>
<li>Monitor backend connection state and adjust pool size accordingly</li>
<li>Consider backend connection limits and TCP socket exhaustion</li>
</ul>
<h3 id="quic-tuning">QUIC Tuning</h3>
<p>QUIC performance depends on UDP buffer sizes and packet processing:</p>
<pre><code class="language-bash"># Increase UDP receive buffer for high packet rates
# Already covered in kernel tuning section, but worth emphasizing:
# net.core.rmem_max = 67108864
# net.core.rmem_default = 16777216

# Verify current settings
sysctl net.core.rmem_max
sysctl net.core.rmem_default

# Monitor UDP receive buffer overflows
netstat -su | grep &quot;receive errors&quot;
</code></pre>
<h3 id="cpu-affinity">CPU Affinity</h3>
<p>For multi-instance deployments on large systems, consider CPU pinning:</p>
<pre><code class="language-ini"># /etc/systemd/system/spooky@.service (template unit for multiple instances)
[Service]
# Pin instance 0 to CPUs 0-3, instance 1 to CPUs 4-7, etc.
CPUAffinity=%i-$(((%i+1)*4-1))
</code></pre>
<h3 id="memory-management">Memory Management</h3>
<p>Monitor heap usage and consider tuning allocator behavior:</p>
<pre><code class="language-bash"># If using jemalloc (check with ldd /usr/local/bin/spooky)
# Set environment variables for memory profiling
# Environment=/usr/bin/env MALLOC_CONF=prof:true,prof_prefix:/var/log/spooky/jeprof
</code></pre>
<h2 id="operational-procedures">Operational Procedures</h2>
<h3 id="deployment-process">Deployment Process</h3>
<ol>
<li><strong>Configuration Validation</strong>: Validate new configuration in staging environment</li>
<li><strong>Gradual Rollout</strong>: Deploy to canary instance first, monitor error rates and latency</li>
<li><strong>Progressive Deployment</strong>: Roll out to remaining instances with staggered timing</li>
<li><strong>Rollback Plan</strong>: Keep previous binary version and configuration for rapid rollback</li>
</ol>
<pre><code class="language-bash"># Deployment script example
#!/bin/bash
set -euo pipefail

NEW_VERSION=&quot;$1&quot;
INSTANCES=(&quot;spooky-01&quot; &quot;spooky-02&quot; &quot;spooky-03&quot;)

# Deploy to canary
echo &quot;Deploying to canary: ${INSTANCES[0]}&quot;
ssh &quot;${INSTANCES[0]}&quot; &quot;sudo systemctl stop spooky &amp;&amp; \
  sudo cp /usr/local/bin/spooky /usr/local/bin/spooky.prev &amp;&amp; \
  sudo wget -O /usr/local/bin/spooky https://releases.example.com/spooky-${NEW_VERSION} &amp;&amp; \
  sudo systemctl start spooky&quot;

echo &quot;Canary deployed. Monitor metrics for 5 minutes...&quot;
sleep 300

# Check canary health
if ! curl -sf &quot;http://${INSTANCES[0]}:8080/health&quot;; then
    echo &quot;Canary health check failed. Rolling back.&quot;
    ssh &quot;${INSTANCES[0]}&quot; &quot;sudo systemctl stop spooky &amp;&amp; \
      sudo mv /usr/local/bin/spooky.prev /usr/local/bin/spooky &amp;&amp; \
      sudo systemctl start spooky&quot;
    exit 1
fi

# Deploy to remaining instances
for instance in &quot;${INSTANCES[@]:1}&quot;; do
    echo &quot;Deploying to ${instance}&quot;
    ssh &quot;${instance}&quot; &quot;sudo systemctl stop spooky &amp;&amp; \
      sudo cp /usr/local/bin/spooky /usr/local/bin/spooky.prev &amp;&amp; \
      sudo wget -O /usr/local/bin/spooky https://releases.example.com/spooky-${NEW_VERSION} &amp;&amp; \
      sudo systemctl start spooky&quot;
    sleep 30
done

echo &quot;Deployment complete.&quot;
</code></pre>
<h3 id="configuration-changes">Configuration Changes</h3>
<pre><code class="language-bash"># Test configuration before applying (startup validation will happen)
sudo -u spooky spooky --config /etc/spooky/config.yaml.new

# Atomic configuration update
sudo mv /etc/spooky/config.yaml /etc/spooky/config.yaml.backup
sudo mv /etc/spooky/config.yaml.new /etc/spooky/config.yaml

# Restart service (hot reload planned for future release)
sudo systemctl restart spooky.service

# Verify reload success
sudo systemctl status spooky.service
sudo journalctl -u spooky.service -n 50 --no-pager
</code></pre>
<h3 id="incident-response">Incident Response</h3>
<p><strong>High Error Rate</strong></p>
<ol>
<li>Check backend health: <code>sudo journalctl -u spooky.service | grep "health check"</code></li>
<li>Verify backend connectivity: <code>curl -v http://&lt;backend-ip&gt;:&lt;port&gt;/health</code></li>
<li>Review recent configuration changes</li>
<li>Check for backend capacity issues (CPU, memory, connection limits)</li>
<li>If necessary, remove unhealthy backends from pool or rollback configuration</li>
</ol>
<p><strong>Connection Exhaustion</strong></p>
<ol>
<li>Check file descriptor usage: <code>ls /proc/$(pgrep spooky)/fd | wc -l</code></li>
<li>Review ulimits: <code>cat /proc/$(pgrep spooky)/limits</code></li>
<li>Identify connection leaks: <code>ss -anp | grep spooky | wc -l</code></li>
<li>Restart service if connection leak suspected: <code>sudo systemctl restart spooky.service</code></li>
</ol>
<p><strong>Memory Leak</strong></p>
<ol>
<li>Monitor RSS over time: <code>ps aux | grep spooky</code></li>
<li>Capture heap profile if using jemalloc</li>
<li>Review recent traffic patterns for anomalies</li>
<li>Restart service to recover capacity, engage upstream support</li>
</ol>
<h3 id="capacity-planning">Capacity Planning</h3>
<p>Monitor these indicators for scaling decisions:</p>
<p><strong>Scale Horizontally (Add Instances) When:</strong>
- CPU utilization sustained &gt;70% across all instances
- Network bandwidth saturation
- Request queueing observed (increasing latency at constant RPS)</p>
<p><strong>Scale Vertically (Increase Resources) When:</strong>
- Memory usage approaching limits
- Context switching rate high with available CPU
- Single-instance throughput below theoretical maximum</p>
<p><strong>Scaling Methodology:</strong>
1. Baseline current performance metrics
2. Load test with synthetic traffic at 2x current peak
3. Identify bottleneck (CPU, memory, network, backend capacity)
4. Size new deployment for 3x current peak with headroom
5. Implement autoscaling based on CPU/RPS metrics if using cloud infrastructure</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="diagnostic-commands">Diagnostic Commands</h3>
<pre><code class="language-bash"># Process information
ps aux | grep spooky
pstree -p $(pgrep spooky)

# Open file descriptors
ls -l /proc/$(pgrep spooky)/fd | wc -l
lsof -p $(pgrep spooky) | head -20

# Network connections
ss -anp | grep spooky | grep ESTABLISHED | wc -l
ss -anp | grep spooky | grep TIME-WAIT | wc -l
ss -su  # UDP socket statistics

# System calls and performance
strace -c -p $(pgrep spooky) -e trace=network  # 10 second sample
perf top -p $(pgrep spooky)

# Memory analysis
cat /proc/$(pgrep spooky)/status | grep -E &quot;Vm|Rss&quot;
pmap -x $(pgrep spooky)

# Configuration verification
sudo -u spooky spooky --config /etc/spooky/config.yaml
</code></pre>
<h3 id="common-issues">Common Issues</h3>
<p><strong>Service Fails to Start</strong></p>
<p>Symptoms: systemd reports failure, process exits immediately</p>
<p>Diagnosis:</p>
<pre><code class="language-bash"># Check systemd logs
sudo journalctl -u spooky.service -n 100 --no-pager

# Test configuration manually
sudo -u spooky /usr/local/bin/spooky --config /etc/spooky/config.yaml

# Check certificate validity
openssl x509 -noout -dates -in /etc/spooky/certs/fullchain.pem

# Verify file permissions
ls -la /etc/spooky/certs/
</code></pre>
<p>Resolution: Address configuration errors, certificate issues, or permission problems identified above.</p>
<p><strong>High Latency</strong></p>
<p>Symptoms: Increased p95/p99 request duration</p>
<p>Diagnosis:</p>
<pre><code class="language-bash"># Check backend latency
curl -w &quot;@curl-format.txt&quot; -o /dev/null -s http://&lt;backend&gt;/&lt;path&gt;

# Network path latency
mtr &lt;backend-ip&gt;

# System resource contention
top -p $(pgrep spooky)
iostat -x 1 10

# Connection state distribution
ss -anp | grep spooky | awk '{print $2}' | sort | uniq -c
</code></pre>
<p>Resolution: Investigate backend performance, network conditions, or system resource exhaustion.</p>
<p><strong>Backend Connection Failures</strong></p>
<p>Symptoms: 502/503 errors, "connection refused" in logs</p>
<p>Diagnosis:</p>
<pre><code class="language-bash"># Verify backend reachability
nc -zv &lt;backend-ip&gt; &lt;backend-port&gt;

# Check backend process state
ssh &lt;backend&gt; &quot;systemctl status &lt;backend-service&gt;&quot;

# Firewall/security group verification
sudo iptables -L -n -v | grep &lt;backend-ip&gt;

# Review health check logs
sudo journalctl -u spooky.service | grep &quot;health check&quot;
</code></pre>
<p>Resolution: Restore backend service, fix network connectivity, or adjust health check parameters.</p>
<h2 id="backup-and-disaster-recovery">Backup and Disaster Recovery</h2>
<h3 id="configuration-backup">Configuration Backup</h3>
<pre><code class="language-bash"># /usr/local/bin/backup-spooky-config.sh
#!/bin/bash
set -euo pipefail

BACKUP_ROOT=&quot;/var/backups/spooky&quot;
TIMESTAMP=$(date +%Y%m%d-%H%M%S)
BACKUP_DIR=&quot;${BACKUP_ROOT}/${TIMESTAMP}&quot;

mkdir -p &quot;${BACKUP_DIR}&quot;

# Backup configuration
cp -a /etc/spooky/config.yaml &quot;${BACKUP_DIR}/&quot;

# Backup certificates (excluding private keys for security)
cp /etc/spooky/certs/fullchain.pem &quot;${BACKUP_DIR}/&quot;

# Store metadata
cat &gt; &quot;${BACKUP_DIR}/metadata.txt&quot; &lt;&lt; EOF
Backup Date: $(date -Is)
Hostname: $(hostname -f)
Spooky Version: $(spooky --version 2&gt;&amp;1 || echo &quot;unknown&quot;)
EOF

# Compress backup
tar czf &quot;${BACKUP_ROOT}/spooky-config-${TIMESTAMP}.tar.gz&quot; -C &quot;${BACKUP_ROOT}&quot; &quot;${TIMESTAMP}&quot;
rm -rf &quot;${BACKUP_DIR}&quot;

# Rotate old backups (keep 30 days)
find &quot;${BACKUP_ROOT}&quot; -name &quot;spooky-config-*.tar.gz&quot; -mtime +30 -delete

echo &quot;Backup completed: ${BACKUP_ROOT}/spooky-config-${TIMESTAMP}.tar.gz&quot;
</code></pre>
<p>Schedule via cron:</p>
<pre><code class="language-bash"># Run daily at 2 AM
0 2 * * * /usr/local/bin/backup-spooky-config.sh &gt;&gt; /var/log/spooky/backup.log 2&gt;&amp;1
</code></pre>
<h3 id="recovery-procedures">Recovery Procedures</h3>
<p><strong>Configuration Restoration</strong></p>
<pre><code class="language-bash"># Extract backup
tar xzf /var/backups/spooky/spooky-config-YYYYMMDD-HHMMSS.tar.gz -C /tmp

# Restore configuration
sudo cp /tmp/YYYYMMDD-HHMMSS/config.yaml /etc/spooky/config.yaml
sudo chown root:spooky /etc/spooky/config.yaml
sudo chmod 640 /etc/spooky/config.yaml

# Restart service (hot reload not currently supported)
sudo systemctl restart spooky.service
</code></pre>
<p><strong>Complete System Rebuild</strong>
1. Provision new host with OS installation
2. Apply system configuration (kernel tuning, resource limits)
3. Install Spooky binary
4. Restore configuration from backup
5. Install TLS certificates
6. Start service and verify health
7. Update load balancer to include new instance</p>
<p>Recovery Time Objective (RTO): Target &lt;15 minutes with automation
Recovery Point Objective (RPO): Configuration changes backed up daily</p>
<h2 id="maintenance-windows">Maintenance Windows</h2>
<h3 id="planned-maintenance-checklist">Planned Maintenance Checklist</h3>
<p><strong>Pre-Maintenance</strong>
- [ ] Notify stakeholders of maintenance window
- [ ] Verify backup procedures completed successfully
- [ ] Review rollback procedures
- [ ] Prepare configuration changes or binary updates
- [ ] Verify staging environment changes successful</p>
<p><strong>During Maintenance</strong>
- [ ] Remove instance from load balancer (if applicable)
- [ ] Drain existing connections (if graceful shutdown supported)
- [ ] Apply updates (configuration, binary, certificates)
- [ ] Restart service
- [ ] Verify service health and connectivity
- [ ] Monitor error rates and latency for 5 minutes
- [ ] Return instance to load balancer</p>
<p><strong>Post-Maintenance</strong>
- [ ] Confirm all instances operational
- [ ] Review metrics for anomalies
- [ ] Update change log
- [ ] Close maintenance notification</p>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li>Spooky Configuration Reference: <code>/docs/configuration/reference.md</code></li>
<li>Load Balancing Strategies: <code>/docs/user-guide/load-balancing.md</code></li>
<li>Troubleshooting Guide: <code>/docs/troubleshooting/common-issues.md</code></li>
<li>Architecture Overview: <code>/docs/architecture/overview.md</code></li>
</ul>
<p>For issues not covered in this guide, consult the project repository issue tracker or engage with the development team.</p>
  </div>
</article>
                                <div class="mx-auto flex flex-wrap h-16 w-full max-w-2xl items-center gap-2 px-4 md:px-0">
    
    <a data-slot="button"
        class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 shadow-none"
        href="/spooky/architecture/components/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="tabler-icon tabler-icon-arrow-left ">
            <path d="M5 12l14 0"></path>
            <path d="M5 12l6 6"></path>
            <path d="M5 12l6 -6"></path>
        </svg>
        <span class="max-[500px]:hidden">Components</span>
    </a>
    
    
    <a data-slot="button"
        class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-secondary text-secondary-foreground hover:bg-secondary/80 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 ml-auto shadow-none"
        href="/spooky/troubleshooting/common-issues/">
        <span class="max-[500px]:hidden">Troubleshooting</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="tabler-icon tabler-icon-arrow-right ">
            <path d="M5 12l14 0"></path>
            <path d="M13 18l6 -6"></path>
            <path d="M13 6l6 6"></path>
        </svg>
    </a>
    
</div>
                                <dialog id="bottom-sidebar" onclick="onBottomSidebarDialogClick(event)" class="bg-transparent"
    style="position: fixed; left: 0px; top: 0px; transform: translate(0px, 58px); min-width: max-content; --radix-popper-transform-origin: 0% 0px; will-change: transform; z-index: 50; --radix-popper-available-width: 504px; --radix-popper-available-height: 857px; --radix-popper-anchor-width: 72.94999694824219px; --radix-popper-anchor-height: 32px;">
    <div data-side="bottom" data-align="start" data-state="open" role="dialog" data-slot="popover-content"
        class="text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 origin-(--radix-popover-content-transform-origin) border outline-hidden bg-background/90 no-scrollbar h-(--radix-popper-available-height) w-(--radix-popper-available-width) overflow-y-auto rounded-none border-none p-0 shadow-none backdrop-blur duration-100"
        style="--radix-popover-content-transform-origin: var(--radix-popper-transform-origin); --radix-popover-content-available-width: var(--radix-popper-available-width); --radix-popover-content-available-height: var(--radix-popper-available-height); --radix-popover-trigger-width: var(--radix-popper-anchor-width); --radix-popover-trigger-height: var(--radix-popper-anchor-height);"
        tabindex="-1">
        <div class="flex flex-col gap-12 overflow-auto px-6 py-6">
            
            
            

            
            <div class="flex flex-col gap-4">
                <div class="text-muted-foreground text-sm font-medium">Menu</div>
                <div class="flex flex-col gap-3">
                    
                    <a class="text-2xl font-medium" href="../..">
                        
                        Home
                        
                    </a>
                    
                    <a class="text-2xl font-medium" href="../../references/">
                        
                        References
                        
                    </a>
                    
                    <a class="text-2xl font-medium" href="../../roadmap/">
                        
                        Roadmap
                        
                    </a>
                    
                </div>
            </div>
            

            
            <div class="flex flex-col gap-8">
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Getting Started</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../getting-started/overview/">
                            
                            Overview
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../getting-started/installation/">
                            
                            Installation
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../tutorials/quickstart/">
                            
                            Quick Start
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Configuration</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../configuration/reference/">
                            
                            Reference
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../configuration/tls/">
                            
                            TLS Setup
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">User Guide</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../user-guide/basics/">
                            
                            Basics
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../user-guide/load-balancing/">
                            
                            Load Balancing
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Architecture</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../architecture/">
                            
                            Overview
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../architecture/overview/">
                            
                            High-Level Design
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../architecture/components/">
                            
                            Components
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Deployment</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="./">
                            
                            Production
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../troubleshooting/common-issues/">
                            
                            Troubleshooting
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Development</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../changelog/">
                            
                            Changelog
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">Protocols</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../protocols/http3/">
                            
                            HTTP/3
                            
                        </a>
                        
                        <a class="text-2xl font-medium" href="../../protocols/quic/">
                            
                            QUIC
                            
                        </a>
                        
                    </div>
                    
                </div>
                
                <div class="flex flex-col gap-4">
                    <div class="text-muted-foreground text-sm font-medium">API</div>
                    
                    <div class="flex flex-col gap-3">
                        
                        <a class="text-2xl font-medium" href="../../api/overview/">
                            
                            Overview
                            
                        </a>
                        
                    </div>
                    
                </div>
                
            </div>
            
            

        </div>
    </div>
</dialog>
                            </div>
                            <div
                                class="sticky top-[calc(var(--header-height)+1px)] ml-auto hidden h-[calc(100svh-var(--header-height)-var(--footer-height))] w-72 flex-col gap-4 overflow-hidden overscroll-none pb-8 xl:flex">
                                <div class="h-(--top-spacing) shrink-0"></div>
                                <div view-transition-name="toc" class="no-scrollbar overflow-y-auto px-8">
    <div class="flex flex-col gap-2 p-4 pt-0 text-sm">
        <p class="text-muted-foreground bg-background sticky top-0 h-6 text-xs">On This Page</p>
        
        
        
        
        <a href="#pre-deployment-checklist"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Pre-Deployment Checklist
        </a>
        
        
        <a href="#infrastructure-requirements"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Infrastructure Requirements
        </a>
        
        <a href="#pre-deployment-validation"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Pre-Deployment Validation
        </a>
        
        

        
        <a href="#system-configuration"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            System Configuration
        </a>
        
        
        <a href="#binary-installation"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Binary Installation
        </a>
        
        <a href="#kernel-parameter-tuning"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Kernel Parameter Tuning
        </a>
        
        <a href="#resource-limits"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Resource Limits
        </a>
        
        <a href="#production-configuration"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Production Configuration
        </a>
        
        

        
        <a href="#tls-certificate-management"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            TLS Certificate Management
        </a>
        
        
        <a href="#certificate-acquisition"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Certificate Acquisition
        </a>
        
        <a href="#certificate-validation"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Certificate Validation
        </a>
        
        

        
        <a href="#systemd-service-configuration"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Systemd Service Configuration
        </a>
        
        
        <a href="#service-unit"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Service Unit
        </a>
        
        <a href="#service-management"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Service Management
        </a>
        
        

        
        <a href="#security-hardening"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Security Hardening
        </a>
        
        
        <a href="#network-security"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Network Security
        </a>
        
        <a href="#application-security"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Application Security
        </a>
        
        <a href="#selinux-apparmor"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            SELinux / AppArmor
        </a>
        
        

        
        <a href="#monitoring-and-observability"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Monitoring and Observability
        </a>
        
        
        <a href="#metrics-exposition"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Metrics Exposition
        </a>
        
        <a href="#key-metrics-to-monitor"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Key Metrics to Monitor
        </a>
        
        <a href="#alerting-rules"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Alerting Rules
        </a>
        
        <a href="#log-management"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Log Management
        </a>
        
        

        
        <a href="#high-availability-architecture"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            High Availability Architecture
        </a>
        
        
        <a href="#active-active-configuration"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Active-Active Configuration
        </a>
        
        <a href="#configuration-synchronization"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Configuration Synchronization
        </a>
        
        <a href="#health-checking"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Health Checking
        </a>
        
        

        
        <a href="#performance-optimization"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Performance Optimization
        </a>
        
        
        <a href="#connection-pooling"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Connection Pooling
        </a>
        
        <a href="#quic-tuning"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            QUIC Tuning
        </a>
        
        <a href="#cpu-affinity"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            CPU Affinity
        </a>
        
        <a href="#memory-management"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Memory Management
        </a>
        
        

        
        <a href="#operational-procedures"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Operational Procedures
        </a>
        
        
        <a href="#deployment-process"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Deployment Process
        </a>
        
        <a href="#configuration-changes"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Configuration Changes
        </a>
        
        <a href="#incident-response"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Incident Response
        </a>
        
        <a href="#capacity-planning"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Capacity Planning
        </a>
        
        

        
        <a href="#troubleshooting"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Troubleshooting
        </a>
        
        
        <a href="#diagnostic-commands"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Diagnostic Commands
        </a>
        
        <a href="#common-issues"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Common Issues
        </a>
        
        

        
        <a href="#backup-and-disaster-recovery"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Backup and Disaster Recovery
        </a>
        
        
        <a href="#configuration-backup"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Configuration Backup
        </a>
        
        <a href="#recovery-procedures"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Recovery Procedures
        </a>
        
        

        
        <a href="#maintenance-windows"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Maintenance Windows
        </a>
        
        
        <a href="#planned-maintenance-checklist"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="3">
            Planned Maintenance Checklist
        </a>
        
        

        
        <a href="#additional-resources"
            class="text-muted-foreground hover:text-foreground data-[active=true]:text-foreground text-[0.8rem] no-underline transition-colors data-[depth=3]:pl-4 data-[depth=4]:pl-6"
            data-active="false" data-depth="2">
            Additional Resources
        </a>
        

        
        
        
        

    </div>
    <div class="h-12"></div>
</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer view-transition-name="footer"
    class="group-has-[.section-soft]/body:bg-surface/40 3xl:fixed:bg-transparent dark:bg-transparent">
    <div class="container-wrapper px-4 xl:px-6">
        <div class="flex h-(--footer-height) items-center justify-between">
            <div class="text-muted-foreground w-full text-center text-xs leading-loose sm:text-sm">
                
                <a href="https://github.com/asiffer/mkdocs-shadcn">shadcn theme</a> provided by
                <a href="https://github.com/asiffer">@asiffer</a>
            </div>
        </div>
    </div>
</footer>
    </div>
     

<script src="../../javascripts/code-copy.js"></script>

     

<script src="../../search/main.js"></script>


    

    <script src="../../js/copy-button.js"></script>
    <script>updatePygmentsStylesheet();</script>
    
    <script>fetchStargazers("https://github.com/nishujangra/spooky");</script>
    
    
    
    <script type="speculationrules">
{
  "prerender": [
    {
      "where": {
          "selector_matches": ["#next-button", "#previous-button"],
      }
    }
  ]
}
</script>
</body>

</html>